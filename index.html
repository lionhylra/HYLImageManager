<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>HYLImageManager by lionhylra</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">HYLImageManager</h1>
      <h2 class="project-tagline">This is a convenience CRUD tool for image files in iOS file system</h2>
      <a href="https://github.com/lionhylra/HYLImageManager" class="btn">View on GitHub</a>
      <a href="https://github.com/lionhylra/HYLImageManager/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/lionhylra/HYLImageManager/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="what-is-it" class="anchor" href="#what-is-it" aria-hidden="true"><span class="octicon octicon-link"></span></a>What is it?</h1>

<p>HYLImageManager is a convenience CRUD tool for image files in iOS file system. It is a simplified version of NSFileManager providing only simple CRUD methods with using a file name. This module is suitable for foundamental objective-c programmers who needs to save image or other file to persistent store. </p>

<p>It is simple enough to use, and also it is flexible enough to costomize.</p>

<p>For example, when you finish downloading a image, you may need to cache or store in local file system for later use. So you can just call <code>[[HYLImageManager defaultManager] saveImage:image withImageName:@"demoImage.png"</code>. When you want to get it back, just call <code>UIImage* image = [[HYLImageManager defaultManager] imageWithName:@"demoImage.png"</code>.</p>

<h1>
<a id="how-to-use" class="anchor" href="#how-to-use" aria-hidden="true"><span class="octicon octicon-link"></span></a>How to use?</h1>

<h2>
<a id="1-initialize-a-instance-of-hylimagemanager" class="anchor" href="#1-initialize-a-instance-of-hylimagemanager" aria-hidden="true"><span class="octicon octicon-link"></span></a>1. Initialize a instance of HYLImageManager.</h2>

<p>Select one of the ninitializer below to get a HYLImageManager instance.</p>

<div class="highlight highlight-objective-c"><pre><span class="pl-c">//Init the manager instance with the system directiory.</span>
<span class="pl-c">//All images stored will be stored in a folder called "UserDocuments", to its original size without thumbnail. It will not be compressed.</span>
<span class="pl-c">//The path will be "/&lt;NSSearchPathDirectory&gt;/UserDocuments/xxx.jpg"</span>
-(<span class="pl-k">instancetype</span>)initWithDirectory:(<span class="pl-c1">NSSearchPathDirectory</span>)directory;

<span class="pl-c">//Init the manager with the system directory and folder name.</span>
<span class="pl-c">//All images stored will be stored in the path specified in the pathComponents, to its original size without thumbnail. It will not be compressed.</span>
<span class="pl-c">//The path will be "/&lt;NSSearchPathDirectory&gt;/pathComponents[0]/pathComponents[1]/pathComponents[2]/.../xxx.jpg"</span>
-(<span class="pl-k">instancetype</span>)initWithDirectory:(<span class="pl-c1">NSSearchPathDirectory</span>)directory pathComponents:(nullable <span class="pl-c1">NSArray</span> *)pathComponents;

<span class="pl-c">//Init the manager with the system directory, folder name and the maximum size of the image you want it be. When the image is saved to the disk, it will be resized to the maximum size you specify while keeping its ratio. If it's original size is smaller than the maximum size, it will not be resized.</span>
<span class="pl-c">//e.g. if you specify the maximum size to be (800, 600) (800 is width), and image's original size is (1000,1000), it will be resized to (600,600)</span>
-(<span class="pl-k">instancetype</span>)initWithDirectory:(<span class="pl-c1">NSSearchPathDirectory</span>)directory pathComponents:(<span class="pl-c1">NSArray</span> *)pathComponents maxSize:(<span class="pl-c1">CGSize</span>)maxSize;

<span class="pl-c">//Init a image manager with most customization</span>
-(<span class="pl-k">instancetype</span>)initWithDirectory:(<span class="pl-c1">NSSearchPathDirectory</span>)directory pathComponents:(nullable <span class="pl-c1">NSArray</span> *)pathComponents maxSize:(<span class="pl-c1">CGSize</span>)maxSize thumbnailMaxSize:(<span class="pl-c1">CGSize</span>)thumbnailMaxSize compressionQuality:(<span class="pl-k">float</span>)quality ignoreThumbnail:(<span class="pl-k">BOOL</span>)flag NS_DESIGNATED_INITIALIZER;

<span class="pl-c">//Init a shared instance with default configuration.</span>
+(<span class="pl-k">instancetype</span>)defaultManager;</pre></div>

<h2>
<a id="2-then-use-other-methods-as-is" class="anchor" href="#2-then-use-other-methods-as-is" aria-hidden="true"><span class="octicon octicon-link"></span></a>2. Then use other methods as-is.</h2>

<h5>
<a id="fetch-image" class="anchor" href="#fetch-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>fetch image</h5>

<pre><code>
-(UIImage *)imageWithName:(NSString *)imageName;
</code></pre>

<h5>
<a id="save-image" class="anchor" href="#save-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>save image</h5>

<pre><code>
- (void)saveImage:(UIImage *)image withImageName:(NSString *)imageName;
</code></pre>

<h5>
<a id="save-image-using-a-generated-nametimestamp-the-image-name-will-be-returned" class="anchor" href="#save-image-using-a-generated-nametimestamp-the-image-name-will-be-returned" aria-hidden="true"><span class="octicon octicon-link"></span></a>save image using a generated name(timestamp). The image name will be returned.</h5>

<p><strong>Note, store the name or keep a reference of the name. You need use this name to fetch image again.</strong></p>

<pre><code>
-(NSString *)saveImage:(UIImage *)image;
</code></pre>

<h5>
<a id="delete-image" class="anchor" href="#delete-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>delete image</h5>

<pre><code>
- (BOOL)deleteImageWithImageName:(NSString *)imageName error:(NSError **)error;
</code></pre>

<h5>
<a id="rename-image" class="anchor" href="#rename-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>rename image</h5>

<pre><code>
- (BOOL)renameImageFromImageName:(NSString *)oldImageName toNewImageName:(NSString *)newImageName error:(NSError **)error;
</code></pre>

<h5>
<a id="get-the-path-of-an-image" class="anchor" href="#get-the-path-of-an-image" aria-hidden="true"><span class="octicon octicon-link"></span></a>get the path of an image</h5>

<pre><code>
-(NSString *)pathForImageName:(NSString *)fileName;
</code></pre>

<h5>
<a id="check-image-existence" class="anchor" href="#check-image-existence" aria-hidden="true"><span class="octicon octicon-link"></span></a>check image existence</h5>

<pre><code>
-(BOOL)imageExistsForImageName:(NSString *)imageName;
</code></pre>

<h3>
<a id="note" class="anchor" href="#note" aria-hidden="true"><span class="octicon octicon-link"></span></a>Note</h3>

<p>For more details about how to use these methods,  please refer to the header file.</p>

<h1>
<a id="utility-classes" class="anchor" href="#utility-classes" aria-hidden="true"><span class="octicon octicon-link"></span></a>Utility Classes</h1>

<h3>
<a id="uiimagecompress" class="anchor" href="#uiimagecompress" aria-hidden="true"><span class="octicon octicon-link"></span></a>UIImage+Compress</h3>

<p>This UIImage Category is used in all HYLImageManager to compress the image when the image is saved to disk. You can call the methods in this category whenever you like.</p>

<h3>
<a id="hylfilemanager" class="anchor" href="#hylfilemanager" aria-hidden="true"><span class="octicon octicon-link"></span></a>HYLFileManager</h3>

<p>This is a more generic version of CRUD convenient tool targeting at NSData.</p>

<h1>
<a id="bonus" class="anchor" href="#bonus" aria-hidden="true"><span class="octicon octicon-link"></span></a>Bonus</h1>

<h3>
<a id="hyldownloadmanager" class="anchor" href="#hyldownloadmanager" aria-hidden="true"><span class="octicon octicon-link"></span></a>HYLDownloadManager</h3>

<p>This is a class used to handle concurrent downloading tasks and download file to yor desinated path. Initialize it like a HYLImageManager and use <code>- (NSURLSessionDownloadTask *)startDownloadTaskWithURL:(NSString *)urlString;</code> to create and start background downloading tasks. Use <code>- (NSURLSessionDownloadTask *)downloadingTaskWithURL:(NSString *)urlString;</code> to keep track of existing tasks. No matter your app enters background or terminated by system, these downloading tasks will keep going util finish as long as the network is available. </p>

<p>Call <code>- (void)retrievingDownloadingTasks;</code> in UIApplicationDelegate when app become active to ensure the manager keep tracks of all ongoing download tasks. Use <code>- (NSURLSessionDownloadTask *)downloadingTaskWithURL:(NSString *)urlString;</code> to check if a task is ongoing.</p>

<p>If you want to monitor the progresses of all downloading tasks, just register your tableViewController to <code>kDownloadManagerProgressDidChangeNotification</code> notification. The notification.object is a instance of NSURLSessionDownloadTask, and notification.userinfo[kDownloadManagerUserInfoProgress] returns a float number between 0.0 and 1.0 indicate the progress of that task. Each time the progress changes, the task will send this notification.</p>

<p><img src="https://github.com/lionhylra/HYLImageManager/blob/master/downloading.gif?raw=true" alt="Alt downloading"></p>

<h1>
<a id="contact-author" class="anchor" href="#contact-author" aria-hidden="true"><span class="octicon octicon-link"></span></a>Contact Author</h1>

<p><a href="mailto:lionhylra@gmail.com">lionhylra@gmail.com</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/lionhylra/HYLImageManager">HYLImageManager</a> is maintained by <a href="https://github.com/lionhylra">lionhylra</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>

